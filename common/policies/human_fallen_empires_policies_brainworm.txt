##########################################################################
# Empire Policies
#
# #####
#
# AI:
# Base AI-weight is 100, if unchanged
# AI will grab whatever policy-option has the highest weight
#
# #####
#
##########################################################################

human_fallen_empires_policies_brainworm_0 = {
	potential = {
		OR = {
			has_country_flag = human_fallen_empires_brainworm_discovered
			human_fallen_empires_trigger_brainworm_country = yes
		}
	}
	# adopt
	option = {
		name = human_fallen_empires_policies_brainworm_0.0
		valid = {
			NOT = { has_country_flag = there_can_be_only_one_worm }
		}
		policy_flags = {
			human_fallen_empires_policies_brainworm_0.0
		}
		ai_weight = {
			factor = 10
			modifier = {
				factor = 0
				human_fallen_empires_trigger_brainworm_country = no
			}
		}
	}
	# isolate
	option = {
		name = human_fallen_empires_policies_brainworm_0.1
		policy_flags = {
			human_fallen_empires_policies_brainworm_0.1
		}
		valid = {
			custom_tooltip = {
				fail_text = human_fallen_empires_policies_brainworm_is_worm
				human_fallen_empires_trigger_brainworm_country = no
			}
			NOT = { has_country_flag = there_can_be_only_one_worm }
		}
		ai_weight = {
			factor = 10
			modifier = {
				factor = 0
				is_pacifist = no
				is_xenophile = no
			}
		}
	}
	# clean
	option = {
		name = human_fallen_empires_policies_brainworm_0.2
		policy_flags = {
			human_fallen_empires_policies_brainworm_0.2
		}
		valid = {
			custom_tooltip = {
				fail_text = human_fallen_empires_policies_brainworm_is_worm
				human_fallen_empires_trigger_brainworm_country = no
			}
			not = {
				is_subject_type = signatory
			}
			is_pacifist = no
			is_xenophile = no
			NOT = { has_country_flag = there_can_be_only_one_worm }
		}
		ai_weight = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					is_pacifist = yes
					is_xenophile = yes
				}
			}
		}
	}
	# The Worm-In-Waiting overrides lesser worms
	option = {
		name = human_fallen_empires_policies_brainworm_versus_worm_in_waiting
		policy_flags = {
			human_fallen_empires_policies_brainworm_versus_worm_in_waiting_policy_flag
		}
		valid = {
			custom_tooltip = {
				fail_text = cannot_into_waiting_worm
			}
			has_country_flag = there_can_only_be_one_worm
			has_country_flag = worm_awaited
		}
		ai_weight = {
			factor = 667
			modifier = {
				factor = 0
				NOT = {	has_country_flag = there_can_be_only_one_worm }
			}
		}
	}
}
